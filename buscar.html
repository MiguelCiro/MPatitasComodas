<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de Búsqueda - Mpatitas Cómodas</title>
    <link rel="stylesheet" href="buscar.css">
</head>
<body>

    <section class="search-results-section">
        <div class="container">
            <h1 class="results-title">Resultados para: <span id="search-query-text">"..."</span></h1>
            <div id="results-grid" class="gallery-grid">
                </div>
        </div>
    </section>

    <script>
        // 1. Base de datos 
        const productos = [
            { id: 1, nombre: "Media Adidas 2/4 Negra", precio: "7.000", img: "adidas-NG.PNG", cat: "cortas deportivas" },
            { id: 2, nombre: "Media Adidas 2/4 Blanca", precio: "7.000", img: "adidas-BL.PNG", cat: "cortas deportivas" },
            { id: 3, nombre: "Media Adidas 2/4 Rosada", precio: "7.000", img: "adidas-RS.PNG", cat: "cortas deportivas" },
            { id: 4, nombre: "Media Adidas 2/4 Café", precio: "7.000", img: "adidas-BS.PNG", cat: "cortas deportivas" },
            { id: 5, nombre: "Media QU 2/4 Blanca", precio: "7.000", img: "uq-BL.png", cat: "cortas" },
            { id: 6, nombre: "Media QU 2/4 Negra", precio: "7.000", img: "uq-NG.png", cat: "cortas" },
            { id: 7, nombre: "Media Nike 2/4 Blanca", precio: "7.000", img: "nike-BL.png", cat: "cortas deportivas" },
            { id: 8, nombre: "Media Nike 2/4 Negra", precio: "7.000", img: "nike-NG.png", cat: "cortas deportivas" },
            { id: 9, nombre: "Media Puma 2/4 Blanca", precio: "7.000", img: "puma-BL.png", cat: "cortas deportivas" },
            { id: 10, nombre: "Media Puma 2/4 Negra", precio: "7.000", img: "puma-NG.png", cat: "cortas deportivas" },
            { id: 11, nombre: "Media Vans 2/4 Blanca", precio: "7.000", img: "vans-BL.png", cat: "cortas" },
            { id: 12, nombre: "Media Vans 2/4 Negra", precio: "7.000", img: "vans-NG.png", cat: "cortas" },
            { id: 13, nombre: "Media Vans 2/4 Rosada", precio: "7.000", img: "vans-RS.png", cat: "cortas" },
            { id: 14, nombre: "Media Sencilla-Franjas 2/4", precio: "8.000", img: "sencilla-franjas.PNG", cat: "cortas" },
            { id: 15, nombre: "Media Velada 2/4", precio: "7.000", img: "velada.PNG", cat: "cortas" },

            // --- TALONERAS (PRECIO 4.500) ---
            { id: 16, nombre: "Talonera Adidas Blanca", precio: "4.500", img: "talonera-adidas-BL.png", cat: "taloneras" },
            { id: 17, nombre: "Talonera Adidas Negra", precio: "4.500", img: "talonera-adidas-NG.png", cat: "taloneras" },
            { id: 18, nombre: "Talonera Champion Blanca", precio: "4.500", img: "talonera-champion-BL.png", cat: "taloneras" },
            { id: 19, nombre: "Talonera Champion Negra", precio: "4.500", img: "talonera-champion-NG.png", cat: "taloneras" },
            { id: 20, nombre: "Talonera Champion 02 Blanca", precio: "4.500", img: "talonera-champion02-BL.png", cat: "taloneras" },
            { id: 21, nombre: "Talonera Champion 02 Negra", precio: "4.500", img: "talonera-champion02-NG.png", cat: "taloneras" },
            { id: 22, nombre: "Talonera Champion 02 Gris", precio: "4.500", img: "talonera-champion02-GR.png", cat: "taloneras" },
            { id: 23, nombre: "Talonera Puma Blanca", precio: "4.500", img: "talonera-puma-BL.png", cat: "taloneras" },
            { id: 24, nombre: "Talonera Puma Negra", precio: "4.500", img: "talonera-puma-NG.png", cat: "taloneras" },
            { id: 25, nombre: "Talonera Puma Gris", precio: "4.500", img: "talonera-puma-GR.png", cat: "taloneras" },
            { id: 26, nombre: "Talonera Quicksilver Blanca", precio: "4.500", img: "talonera-quicksilver-BL.png", cat: "taloneras" },
            { id: 27, nombre: "Talonera Quicksilver Negra", precio: "4.500", img: "talonera-quicksilver-NG.png", cat: "taloneras" },
            { id: 28, nombre: "Talonera Básica Blanca", precio: "4.500", img: "talonera-sencilla-BL.png", cat: "taloneras" },
            { id: 29, nombre: "Talonera Básica Negra", precio: "4.500", img: "talonera-sencilla-NG.png", cat: "taloneras" },
            { id: 30, nombre: "Talonera Básica Gris", precio: "4.500", img: "talonera-sencilla-GR.png", cat: "taloneras" },
            { id: 31, nombre: "Talonera Under Armour Blanca", precio: "4.500", img: "talonera-under-BL.png", cat: "taloneras" },
            { id: 32, nombre: "Talonera Under Armour Negra", precio: "4.500", img: "talonera-under-NG.png", cat: "taloneras" },
            { id: 33, nombre: "Talonera Under Armour Gris", precio: "4.500", img: "talonera-under-GR.png", cat: "taloneras" },

            // --- TALONERAS DISEÑO / ANIMALES ---
            { id: 34, nombre: "Talonera Animada Verde", precio: "4.500", img: "talonera-animales-VD.png", cat: "taloneras diseño" },
            { id: 35, nombre: "Talonera Animada Rosada", precio: "4.500", img: "talonera-animales-RS.png", cat: "taloneras diseño" },
            { id: 36, nombre: "Talonera Animada Negra", precio: "4.500", img: "talonera-animales-NG.png", cat: "taloneras diseño" },
            { id: 37, nombre: "Talonera Carita Feliz Azul", precio: "4.500", img: "talonera-feliz-BLU.png", cat: "taloneras diseño" },
            { id: 38, nombre: "Talonera Carita Feliz Negra", precio: "4.500", img: "talonera-feliz-NG.png", cat: "taloneras diseño" },
            { id: 39, nombre: "Talonera Carita Feliz Rosada", precio: "4.500", img: "talonera-feliz-RS.png", cat: "taloneras diseño" },
            { id: 40, nombre: "Talonera Carita Feliz Blanca", precio: "4.500", img: "talonera-feliz-BL.png", cat: "taloneras diseño" },
            { id: 41, nombre: "Talonera Carita Feliz Café", precio: "4.500", img: "talonera-feliz-CF.png", cat: "taloneras diseño" },
            { id: 42, nombre: "Talonera Frutal Blanca", precio: "4.500", img: "talonera-frutal-BL.png", cat: "taloneras diseño" },
            { id: 43, nombre: "Talonera Frutal Negra", precio: "4.500", img: "talonera-frutal-NG.png", cat: "taloneras diseño" },
            { id: 44, nombre: "Talonera Frutal Amarilla", precio: "4.500", img: "talonera-frutal-AM.png", cat: "taloneras diseño" },
            { id: 45, nombre: "Talonera Gatos Blanca", precio: "4.500", img: "talonera-gatos-BL.png", cat: "taloneras diseño" },
            { id: 46, nombre: "Talonera Gatos Negra", precio: "4.500", img: "talonera-gatos-NG.png", cat: "taloneras diseño" },
            { id: 47, nombre: "Talonera Gatos Azul", precio: "4.500", img: "talonera-gatos-BLU.png", cat: "taloneras diseño" },
            { id: 48, nombre: "Talonera Gatos Rosada", precio: "4.500", img: "talonera-gatos-RS.png", cat: "taloneras diseño" },
            { id: 49, nombre: "Talonera Letras Blanca", precio: "4.500", img: "talonera-letraA-BL.png", cat: "taloneras diseño" },
            { id: 50, nombre: "Talonera Letras Negra", precio: "4.500", img: "talonera-letraA-NG.png", cat: "taloneras diseño" },
            { id: 51, nombre: "Talonera Letras Café", precio: "4.500", img: "talonera-letraA-CF.png", cat: "taloneras diseño" },
            { id: 52, nombre: "Talonera Letras Rosada", precio: "4.500", img: "talonera-letraA-RS.png", cat: "taloneras diseño" },

            // --- LARGAS Y ANTIDESLIZANTES ---
            { id: 53, nombre: "Larga Adidas 3 Líneas Blanca", precio: "9.000", img: "larga-adidas-3lineas-BL.PNG", cat: "largas deportivas" },
            { id: 54, nombre: "Larga Adidas Básica Negra", precio: "9.000", img: "larga-adidas-basica-NG.PNG", cat: "largas deportivas" },
            { id: 55, nombre: "Larga Jordan Básica Blanca", precio: "10.000", img: "larga-jordan-basica-BL.PNG", cat: "largas deportivas" },
            { id: 56, nombre: "Larga Nike Básica Negra", precio: "10.000", img: "larga-nike-basica-NG.PNG", cat: "largas deportivas" },
            { id: 57, nombre: "Larga Nike Flores Blanca", precio: "11.000", img: "larga-nike-flores-BL.PNG", cat: "largas" },
            { id: 58, nombre: "Larga Puma Básica Negra", precio: "9.000", img: "larga-puma-basica-NG.PNG", cat: "largas deportivas" },
            { id: 59, nombre: "Larga Under Armour Blanca", precio: "10.000", img: "larga-under-basica-BL.PNG", cat: "largas deportivas" },
            { id: 60, nombre: "Antideslizante Canillera Blanca", precio: "10.000", img: "antideslizante-canillera-BL.PNG", cat: "antideslizante" },
            { id: 61, nombre: "Antideslizante Canillera Negra", precio: "10.000", img: "antideslizante-canillera-NG.PNG", cat: "antideslizante" },
            { id: 62, nombre: "Antideslizante Larga Azul", precio: "12.000", img: "antideslizante-larga-BS.PNG", cat: "antideslizante" },
            { id: 63, nombre: "Antideslizante Larga Negra", precio: "12.000", img: "antideslizante-larga-NG.PNG", cat: "antideslizante" },

            // --- PERSONAJES Y DISEÑOS ---
            { id: 64, nombre: "Media Aguacates", precio: "6.500", img: "aguacates.png", cat: "diseños" },
            { id: 65, nombre: "Media Bulls", precio: "8.000", img: "bulls.png", cat: "deportivas" },
            { id: 66, nombre: "Media Capibara", precio: "7.000", img: "capibara.png", cat: "diseños" },
            { id: 67, nombre: "Media Cerditos", precio: "7.000", img: "cerditos.png", cat: "diseños" },
            { id: 68, nombre: "Media Chicas Superpoderosas", precio: "7.000", img: "chicas-superpoderosas.PNG", cat: "personajes" },
            { id: 69, nombre: "Media Huevos", precio: "6.500", img: "huevos.PNG", cat: "diseños" },
            { id:70, nombre: "Media Mafalda", precio: "7.000", img: "mafalda.png", cat: "personajes" },
            { id: 71, nombre: "Media Mary Aristogatos", precio: "7.500", img: "mary-aristogatos.PNG", cat: "disney" },
            { id: 72, nombre: "Media Patas de Pollo", precio: "7.000", img: "patas-de-pollo.PNG", cat: "divertidas" },
            { id: 73, nombre: "Media Pink", precio: "8.000", img: "Pink.JPG", cat: "diseños" },
            { id: 74, nombre: "Media Pucca", precio: "7.000", img: "pucca.png", cat: "personajes" },
            { id: 75, nombre: "Media Stich Imán", precio: "8.500", img: "stich-iman.png", cat: "disney" },
            { id: 76, nombre: "Media Stranger Things", precio: "8.000", img: "stranger-thinks-01.PNG", cat: "series" },

            // --- OVEJERAS (TÉRMICAS) ---
            { id: 77, nombre: "Ovejera Gris Corazón", precio: "18.000", img: "ovejera-corazon-gris.png", cat: "ovejeras termicas" },
            { id: 78, nombre: "Ovejera Negra Corazón", precio: "18.000", img: "ovejera-corazon-negro.png", cat: "ovejeras termicas" },
            { id: 79, nombre: "Ovejera Rosada Corazón", precio: "18.000", img: "ovejera-corazon-rosado.png", cat: "ovejeras termicas" },
            { id: 80, nombre: "Ovejera Gato", precio: "18.000", img: "ovejera-gato.png", cat: "ovejeras termicas" },
            { id: 81, nombre: "Ovejera Perrito 01", precio: "18.000", img: "ovejera-perrito-01.png", cat: "ovejeras termicas" },
            { id: 82, nombre: "Ovejera Perrito 04", precio: "18.000", img: "ovejera-perrito-04.PNG", cat: "ovejeras termicas" },
            { id: 83, nombre: "Ovejera Vaca", precio: "18.000", img: "ovejeras-vaca.png", cat: "ovejeras termicas" },

            // --- COMPRESIÓN ---
            { id: 84, nombre: "Compresión Blanca (Tipo 1)", precio: "15.000", img: "compresion-1-blanca.png", cat: "compresion" },
            { id: 85, nombre: "Compresión Café (Tipo 1)", precio: "15.000", img: "compresion-1-cafe.png", cat: "compresion" },
            { id: 86, nombre: "Compresión Negra (Tipo 1)", precio: "15.000", img: "compresion-1-negra.png", cat: "compresion" },
            { id: 87, nombre: "Compresión Morada (Tipo 2)", precio: "15.000", img: "compresion-2-morada.png", cat: "compresion" },
            { id: 88, nombre: "Compresión Rosada (Tipo 2)", precio: "15.000", img: "compresion-2-rosada.png", cat: "compresion" },
            { id: 89, nombre: "Compresión Verde (Tipo 2)", precio: "15.000", img: "compresion-2-verde.png", cat: "compresion" },
            { id: 90, nombre: "Compresión Beis (Tipo 3)", precio: "15.000", img: "compresion-3-beis.png", cat: "compresion" },
            { id: 91, nombre: "Compresión Blanca (Tipo 3)", precio: "15.000", img: "compresion-3-blanca.png", cat: "compresion" },
            { id: 92, nombre: "Compresión Negra (Tipo 3)", precio: "15.000", img: "compresion-3-negra.png", cat: "compresion" },

            // --- NAVIDAD ---
            { id: 93, nombre: "Media Grinch", precio: "7.500", img: "Grinch.PNG", cat: "navidad" },
            { id: 94, nombre: "Media Renos", precio: "7.500", img: "renos-01.PNG", cat: "navidad" },
            { id: 95, nombre: "Media Papá Noel", precio: "7.500", img: "santa-clous.PNG", cat: "navidad" }
        ];

        

        // 2. Función Principal
        function inicializarBusqueda() {
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('q');
            const queryDisplay = document.getElementById('search-query-text');
            const grid = document.getElementById('results-grid');

            if (!query || query.trim() === "") {
                queryDisplay.innerText = "NADA";
                grid.innerHTML = `<div class="no-results">No escribiste nada para buscar.<br><a href="index.html" class="btn-volver">Ir a la tienda</a></div>`;
                return;
            }

            const termino = query.toLowerCase().trim();
            queryDisplay.innerText = `"${termino.toUpperCase()}"`;

            // Filtrado inteligente
            const filtrados = productos.filter(p => 
                p.nombre.toLowerCase().includes(termino) || 
                p.cat.toLowerCase().includes(termino)
            );

            renderizarProductos(filtrados);
        }

        // 3. Función de Renderizado
        function renderizarProductos(lista) {
            const grid = document.getElementById('results-grid');
            
            if (lista.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <p>Ups! No tenemos medias que coincidan con esa palabra.</p>
                        <a href="index.html" class="btn-volver">Ver todo el catálogo</a>
                    </div>`;
                return;
            }

            grid.innerHTML = lista.map(p => `
                <div class="product-card">
                    <img src="${p.img}" alt="${p.nombre}" onerror="this.src='https://via.placeholder.com/200?text=Mpatittas'">
                    <div class="product-info-mini">
                        <p>${p.nombre}</p>
                        <span>$${p.precio}</span>
                    </div>
                </div>
            `).join('');
        }

        // Ejecutar al cargar
        window.onload = inicializarBusqueda;
    </script>
</body>
</html>