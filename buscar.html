<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados de Búsqueda - Mpatitas Cómodas</title>
    <link rel="stylesheet" href="buscar.css">
</head>
<body>

    <section class="search-results-section">
        <div class="container">
            <h1 class="results-title">Resultados para: <span id="search-query-text">"..."</span></h1>
            <div id="results-grid" class="gallery-grid">
                </div>
        </div>
    </section>

    <script>
        // 1. Base de datos (asegúrate de que las rutas de las imágenes sean correctas)
        const productos = [
            { id: 1, nombre: "Media Adidas Blanca", precio: "8.000", img: "adidas-BL.PNG", cat: "deportivas" },
            { id: 2, nombre: "Media Adidas Azul", precio: "8.000", img: "adidas-BS.PNG", cat: "deportivas" },
            { id: 3, nombre: "Media Adidas Negra", precio: "8.000", img: "adidas-NG.PNG", cat: "deportivas" },
            { id: 4, nombre: "Media Adidas Rosa", precio: "8.000", img: "adidas-RS.PNG", cat: "deportivas" },
            { id: 5, nombre: "Larga Adidas 3 Líneas Blanca", precio: "9.000", img: "larga-adidas-3lineas-BL.PNG", cat: "largas deportivas" },
            { id: 6, nombre: "Larga Adidas Básica Negra", precio: "9.000", img: "larga-adidas-basica-NG.PNG", cat: "largas deportivas" },

            // --- NIKE Y JORDAN ---
            { id: 7, nombre: "Larga Jordan Básica Blanca", precio: "10.000", img: "larga-jordan-basica-BL.PNG", cat: "largas deportivas" },
            { id: 8, nombre: "Larga Nike Básica Negra", precio: "10.000", img: "larga-nike-basica-NG.PNG", cat: "largas deportivas" },
            { id: 9, nombre: "Larga Nike Flores Blanca", precio: "11.000", img: "larga-nike-flores-BL.PNG", cat: "largas" },
            { id: 10, nombre: "Talonera Nike Negra", precio: "5.000", img: "nike-NG.png", cat: "cortas deportivas" },

            // --- OVEJERAS (TÉRMICAS) ---
            { id: 11, nombre: "Ovejera Gris Corazón", precio: "18.000", img: "ovejera-corazon-gris.png", cat: "ovejeras termicas" },
            { id: 12, nombre: "Ovejera Negra Corazón", precio: "18.000", img: "ovejera-corazon-negro.png", cat: "ovejeras termicas" },
            { id: 13, nombre: "Ovejera Rosada Corazón", precio: "18.000", img: "ovejera-corazon-rosado.png", cat: "ovejeras termicas" },
            { id: 14, nombre: "Ovejera Gato", precio: "18.000", img: "ovejera-gato.png", cat: "ovejeras termicas" },
            { id: 15, nombre: "Ovejera Perrito 01", precio: "18.000", img: "ovejera-perrito-01.png", cat: "ovejeras termicas" },
            { id: 16, nombre: "Ovejera Perrito 04", precio: "18.000", img: "ovejera-perrito-04.PNG", cat: "ovejeras termicas" },
            { id: 17, nombre: "Ovejera Vaca", precio: "18.000", img: "ovejeras-vaca.png", cat: "ovejeras termicas" },

            // --- COMPRESIÓN ---
            { id: 18, nombre: "Compresión 1 Blanca", precio: "15.000", img: "compresion-1-blanca.png", cat: "compresion" },
            { id: 19, nombre: "Compresión 1 Café", precio: "15.000", img: "compresion-1-cafe.png", cat: "compresion" },
            { id: 20, nombre: "Compresión 1 Negra", precio: "15.000", img: "compresion-1-negra.png", cat: "compresion" },
            { id: 21, nombre: "Compresión 2 Morada", precio: "15.000", img: "compresion-2-morada.png", cat: "compresion" },
            { id: 22, nombre: "Compresión 2 Rosada", precio: "15.000", img: "compresion-2-rosada.png", cat: "compresion" },
            { id: 23, nombre: "Compresión 2 Verde", precio: "15.000", img: "compresion-2-verde.png", cat: "compresion" },
            { id: 24, nombre: "Compresión 3 Beis", precio: "15.000", img: "compresion-3-beis.png", cat: "compresion" },
            { id: 25, nombre: "Compresión 3 Blanca", precio: "15.000", img: "compresion-3-blanca.png", cat: "compresion" },
            { id: 26, nombre: "Compresión 3 Negra", precio: "15.000", img: "compresion-3-negra.png", cat: "compresion" },

            // --- PERSONAJES Y DISEÑOS ---
            { id: 27, nombre: "Media Aguacates", precio: "6.500", img: "aguacates.png", cat: "diseños" },
            { id: 28, nombre: "Media Bulls", precio: "8.000", img: "bulls.png", cat: "deportivas" },
            { id: 29, nombre: "Media Capibara", precio: "7.000", img: "capibara.png", cat: "diseños" },
            { id: 30, nombre: "Media Cerditos", precio: "7.000", img: "cerditos.png", cat: "diseños" },
            { id: 31, nombre: "Media Chicas Superpoderosas", precio: "7.000", img: "chicas-superpoderosas.PNG", cat: "personajes" },
            { id: 32, nombre: "Media Grinch", precio: "7.500", img: "Grinch.PNG", cat: "navidad" },
            { id: 33, nombre: "Media Huevos", precio: "6.500", img: "huevos.PNG", cat: "diseños" },
            { id: 34, nombre: "Media Mafalda", precio: "7.000", img: "mafalda.png", cat: "personajes" },
            { id: 35, nombre: "Media Mary Aristogatos", precio: "7.500", img: "mary-aristogatos.PNG", cat: "disney" },
            { id: 36, nombre: "Media Patas de Pollo", precio: "7.000", img: "patas-de-pollo.PNG", cat: "divertidas" },
            { id: 37, nombre: "Media Pink", precio: "8.000", img: "Pink.JPG", cat: "diseños" },
            { id: 38, nombre: "Media Pucca", precio: "7.000", img: "pucca.png", cat: "personajes" },
            { id: 39, nombre: "Media Stich Imán", precio: "8.500", img: "stich-iman.png", cat: "disney" },
            { id: 40, nombre: "Media Stranger Things", precio: "8.000", img: "stranger-thinks-01.PNG", cat: "series" },

            // --- ANTIDESLIZANTES ---
            { id: 41, nombre: "Antideslizante Canillera Blanca", precio: "10.000", img: "antideslizante-canillera-BL.PNG", cat: "antideslizante" },
            { id: 42, nombre: "Antideslizante Canillera Negra", precio: "10.000", img: "antideslizante-canillera-NG.PNG", cat: "antideslizante" },
            { id: 43, nombre: "Antideslizante Larga Azul", precio: "12.000", img: "antideslizante-larga-BS.PNG", cat: "antideslizante" },
            { id: 44, nombre: "Antideslizante Larga Negra", precio: "12.000", img: "antideslizante-larga-NG.PNG", cat: "antideslizante" },

            // --- MARCAS ADICIONALES Y TALONERAS ---
            { id: 45, nombre: "Larga Puma Básica Negra", precio: "9.000", img: "larga-puma-basica-NG.PNG", cat: "largas deportivas" },
            { id: 46, nombre: "Larga Under Armour Blanca", precio: "10.000", img: "larga-under-basica-BL.PNG", cat: "largas deportivas" },
            { id: 47, nombre: "Talonera Adidas Blanca", precio: "5.000", img: "talonera-adidas-BL.png", cat: "cortas" },
            { id: 48, nombre: "Talonera Animales Rosa", precio: "6.000", img: "talonera-animales-RS.png", cat: "cortas animales" },
            { id: 49, nombre: "Talonera Carita Feliz", precio: "5.500", img: "talonera-feliz-BLU.png", cat: "cortas" },
            { id: 50, nombre: "Talonera Puma Blanca", precio: "5.000", img: "puma-BL.png", cat: "cortas" },
            { id: 51, nombre: "Media Renos", precio: "7.500", img: "renos-01.PNG", cat: "navidad" },
            { id: 52, nombre: "Media Papá Noel", precio: "7.500", img: "santa-clous.PNG", cat: "navidad" }
        ];
        

        // 2. Función Principal
        function inicializarBusqueda() {
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('q');
            const queryDisplay = document.getElementById('search-query-text');
            const grid = document.getElementById('results-grid');

            if (!query || query.trim() === "") {
                queryDisplay.innerText = "NADA";
                grid.innerHTML = `<div class="no-results">No escribiste nada para buscar.<br><a href="index.html" class="btn-volver">Ir a la tienda</a></div>`;
                return;
            }

            const termino = query.toLowerCase().trim();
            queryDisplay.innerText = `"${termino.toUpperCase()}"`;

            // Filtrado inteligente
            const filtrados = productos.filter(p => 
                p.nombre.toLowerCase().includes(termino) || 
                p.cat.toLowerCase().includes(termino)
            );

            renderizarProductos(filtrados);
        }

        // 3. Función de Renderizado
        function renderizarProductos(lista) {
            const grid = document.getElementById('results-grid');
            
            if (lista.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <p>Ups! No tenemos medias que coincidan con esa palabra.</p>
                        <a href="index.html" class="btn-volver">Ver todo el catálogo</a>
                    </div>`;
                return;
            }

            grid.innerHTML = lista.map(p => `
                <div class="product-card">
                    <img src="${p.img}" alt="${p.nombre}" onerror="this.src='https://via.placeholder.com/200?text=Mpatittas'">
                    <div class="product-info-mini">
                        <p>${p.nombre}</p>
                        <span>$${p.precio}</span>
                    </div>
                </div>
            `).join('');
        }

        // Ejecutar al cargar
        window.onload = inicializarBusqueda;
    </script>
</body>
</html>